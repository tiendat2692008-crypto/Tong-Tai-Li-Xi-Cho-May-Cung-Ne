<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>L√å X√å C·ª¶A T·ªîNG T√ÄI</title>

<style>
body{
    margin:0;
    font-family:Arial, sans-serif;
    text-align:center;
    background: linear-gradient(45deg,#ff0000,#ff9900,#ff0066,#ff3300);
    background-size:400% 400%;
    animation:bg 6s infinite alternate;
    color:white;
    overflow-x:hidden;
}

@keyframes bg{
    0%{background-position:left;}
    100%{background-position:right;}
}

h1{
    background:gold;
    color:red;
    padding:15px 25px;
    border-radius:25px;
    display:inline-block;
    margin-top:20px;
    box-shadow:0 0 25px yellow;
    position:relative;
    z-index:10;
}

.admin-btn{
    margin-top:10px;
    padding:8px 15px;
    border:none;
    border-radius:10px;
    background:black;
    color:gold;
    cursor:pointer;
    position:relative;
    z-index:10;
}

.grid{
    display:grid;
    grid-template-columns: repeat(5, 1fr);
    gap:15px;
    padding:20px;
    position:relative;
    z-index:10;
}

.envelope{
    background:red;
    border-radius:15px;
    padding:30px 0;
    cursor:pointer;
    font-size:40px;
    transition:0.3s;
    box-shadow:0 0 15px gold;
}

.envelope:hover{
    transform:scale(1.1);
    background:#ff3333;
}

#result{
    margin-top:20px;
    font-size:22px;
    font-weight:bold;
    position:relative;
    z-index:10;
}

.peach{
    position:fixed;
    top:-40px;
    pointer-events:none;
    z-index:1;
    animation:fall linear forwards;
}

@keyframes fall{
    to{
        transform:translateY(110vh) rotate(360deg);
        opacity:0;
    }
}
</style>
</head>

<body>

<h1>L√å X√å C·ª¶A T·ªîNG T√ÄI ü•µüòª</h1>
<br>
<button class="admin-btn" onclick="loginAdmin()">ƒêƒÉng nh·∫≠p Admin</button>

<div class="grid" id="grid"></div>
<div id="result"></div>

<script>

let isAdmin = false;
let adminPassword = "124689";
let maxPlays = 3;

// ===== HOA ƒê√ÄO BAY N·ªÄN =====
setInterval(function(){
    let flower=document.createElement("div");
    flower.className="peach";
    flower.innerHTML="üå∏";
    flower.style.left=Math.random()*100+"vw";
    flower.style.fontSize=(20+Math.random()*20)+"px";
    flower.style.animationDuration=(6+Math.random()*4)+"s";
    document.body.appendChild(flower);

    setTimeout(()=>flower.remove(),10000);
},700);


// ===== ADMIN =====
function loginAdmin(){
    let pass = prompt("Nh·∫≠p m·∫≠t kh·∫©u admin:");
    if(pass === adminPassword){
        isAdmin = true;
        alert("ƒê√£ b·∫≠t ch·∫ø ƒë·ªô Admin üëë");
    } else {
        alert("Sai m·∫≠t kh·∫©u!");
    }
}

// ===== DANH S√ÅCH TI·ªÄN =====
let pool = [
"5k","5k","5k",
"10k","10k","10k","10k","10k","10k",
"20k","20k","20k","20k","20k","20k","20k",
"50k","50k","50k",
"100k"
];

pool.sort(()=>Math.random()-0.5);

const grid = document.getElementById("grid");

// T·∫°o 20 phong bao
for(let i=0;i<20;i++){
    const div=document.createElement("div");
    div.className="envelope";
    div.innerHTML="üßß";
    div.onclick=function(){ openEnvelope(i,div); };
    grid.appendChild(div);
}

// ===== M·ªû PHONG BAO =====
function openEnvelope(index,element){

    let plays = parseInt(localStorage.getItem("plays")) || 0;

    if(plays >= maxPlays && !isAdmin){
        alert("B·∫°n ƒë√£ r√∫t ƒë·ªß 3 l∆∞·ª£t!");
        return;
    }

    if(element.classList.contains("opened")) return;

    const money = pool[index];

    element.classList.add("opened");
    element.style.background="gold";
    element.style.color="black";
    element.innerHTML = money + "<br>üí∞";

    document.getElementById("result").innerHTML =
        "üéâ B·∫°n nh·∫≠n ƒë∆∞·ª£c " + money + " üéâ";

    if(!isAdmin){
        localStorage.setItem("plays", plays + 1);
    }

    fireworks();

    if(money === "100k"){
        moneyRain();
    }
}

// ===== PH√ÅO HOA =====
function fireworks(){
    for(let i=0;i<25;i++){
        let spark=document.createElement("div");
        spark.innerHTML="‚ú®";
        spark.style.position="fixed";
        spark.style.left=Math.random()*100+"vw";
        spark.style.top=Math.random()*100+"vh";
        spark.style.fontSize="25px";
        spark.style.pointerEvents="none";
        spark.style.opacity="1";
        spark.style.transition="opacity 1s";
        spark.style.zIndex="20";

        document.body.appendChild(spark);

        setTimeout(()=>spark.style.opacity="0",10);
        setTimeout(()=>spark.remove(),1000);
    }
}

// ===== TI·ªÄN R∆†I =====
function moneyRain(){
    for(let i=0;i<40;i++){
        let m=document.createElement("div");
        m.innerHTML="üí∏";
        m.style.position="fixed";
        m.style.left=Math.random()*100+"vw";
        m.style.top="-50px";
        m.style.fontSize="30px";
        m.style.pointerEvents="none";
        m.style.transition="transform 3s linear";
        m.style.zIndex="30";

        document.body.appendChild(m);

        setTimeout(()=>m.style.transform="translateY(110vh)",10);
        setTimeout(()=>m.remove(),3000);
    }
}

</script>

</body>
</html>